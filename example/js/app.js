!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";Array.from||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},n=Math.pow(2,53)-1,i=function(t){var e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),n)};return function(t){var n=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var a,s=arguments.length>1?arguments[1]:void 0;if(void 0!==s){if(!e(s))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}for(var r,o=i(n.length),l=e(this)?Object(new this(o)):new Array(o),d=0;d<o;)r=n[d],l[d]=s?void 0===a?s(r,d):s.call(a,r,d):r,d+=1;return l.length=o,l}}());"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var t=new(function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t,e){t.exports=function(){!function(t,e){var n=(t.body||t.documentElement).style,i="",a="";""==n.WebkitAnimation&&(i="-webkit-"),""==n.MozAnimation&&(i="-moz-"),""==n.OAnimation&&(i="-o-"),""==n.WebkitTransition&&(a="-webkit-"),""==n.MozTransition&&(a="-moz-"),""==n.OTransition&&(a="-o-"),Object.prototype.onCSSAnimationEnd=function(t){var e=function e(n){t(),n.target.removeEventListener(n.type,e)};return this.addEventListener("webkitAnimationEnd",e),this.addEventListener("mozAnimationEnd",e),this.addEventListener("oAnimationEnd",e),this.addEventListener("oanimationend",e),this.addEventListener("animationend",e),(""!=i||"animation"in n)&&"0s"!=getComputedStyle(this)[i+"animation-duration"]||t(),this},Object.prototype.onCSSTransitionEnd=function(t){var e=function e(n){t(),n.target.removeEventListener(n.type,e)};return this.addEventListener("webkitTransitionEnd",e),this.addEventListener("mozTransitionEnd",e),this.addEventListener("oTransitionEnd",e),this.addEventListener("transitionend",e),this.addEventListener("transitionend",e),(""!=a||"transition"in n)&&"0s"!=getComputedStyle(this)[a+"transition-duration"]||t(),this}}(document,window);var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();return function(){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=document.querySelector(t);null!=i&&(this.settings=Object.assign({},{headerClass:".js-badger-accordion-header",panelClass:".js-badger-accordion-panel",panelInnerClass:".js-badger-accordion-panel-inner",hidenClass:"is-hidden",initalisedClass:"badger-accordion--initalised",headerDataAttr:"data-badger-accordion-header-id",openMultiplePanels:!1,openHeadersOnLoad:[],headerOpenLabel:"Open accordion panel",headerCloseLabel:"Close accordion panel"},n),this.container=i,this.headers=Array.from(this.container.querySelectorAll(this.settings.headerClass)),this.panels=Array.from(this.container.querySelectorAll(this.settings.panelClass)),this.toggleEl=void 0!==this.settings.toggleEl?Array.from(this.container.querySelectorAll(this.settings.toggleEl)):this.headers,this.states=[].map.call(this.headers,function(){return{state:"closed"}}),this.ids=[].map.call(this.headers,function(){return{id:Math.floor(1e6*Math.random()+1)}}),this.toggling=!1,this.container?this.init():console.log("Something is wrong with you markup..."))}return t(e,[{key:"init",value:function(){this._setupAttributes(),this._initalState(),this._setPanelHeight(),this._insertDataAttrs(),this._addListeners(),this._finishInitalisation()}},{key:"_initalState",value:function(){var t=this.settings.openHeadersOnLoad;t.length&&this._openHeadersOnLoad(t),this._renderDom()}},{key:"_insertDataAttrs",value:function(){var t=this;this.headers.forEach(function(e,n){e.setAttribute(t.settings.headerDataAttr,n)})}},{key:"_finishInitalisation",value:function(){this.container.classList.add(this.settings.initalisedClass)}},{key:"_addListeners",value:function(){var t=this;this.headers.forEach(function(e,n){e.addEventListener("click",function(){t.handleClick(e,n)})})}},{key:"handleClick",value:function(t,e){var n=this.settings.headerClass.substr(1);t.classList.contains(n)&&!1===this.toggling&&(this.toggling=!0,this.setState(e),this._renderDom())}},{key:"setState",value:function(t){var e=this,n=this.getState();this.settings.openMultiplePanels||n.filter(function(e,n){n!=t&&(e.state="closed")}),n.filter(function(n,i){if(i==t){var a=e.toggleState(n.state);return n.state=a}})}},{key:"_renderDom",value:function(){var t=this;this.states.filter(function(e,n){"open"===e.state&&t.open(n)}),this.states.filter(function(e,n){"closed"===e.state&&t.close(n)})}},{key:"open",value:function(t){this.togglePanel("open",t)}},{key:"close",value:function(t){this.togglePanel("closed",t)}},{key:"openAll",value:function(){var t=this;this.headers.forEach(function(e){t.togglePanel("open",e)})}},{key:"closeAll",value:function(){var t=this;this.headers.forEach(function(e){t.togglePanel("closed",e)})}},{key:"togglePanel",value:function(t,e){var n=this;if(void 0!==t&&void 0!==e)if("closed"===t){var i=this.headers[e],a=this.panels[e];a.classList.add(this.settings.hidenClass),i.setAttribute("aria-expanded",!1),i.setAttribute("aria-label",this.settings.headerOpenLabel),a.onCSSTransitionEnd(function(){return n.toggling=!1})}else if("open"===t){var s=this.headers[e],r=this.panels[e];r.classList.remove(this.settings.hidenClass),s.setAttribute("aria-expanded",!0),s.setAttribute("aria-label",this.settings.headerCloseLabel),r.onCSSTransitionEnd(function(){return n.toggling=!1})}}},{key:"getState",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length&&Array.isArray(e)?e.map(function(e){return t.states[e]}):this.states}},{key:"toggleState",value:function(t){if(void 0!==t)return"closed"===t?"open":"closed"}},{key:"_openHeadersOnLoad",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length&&Array.isArray(e)&&e.filter(function(t){return void 0!=t}).forEach(function(e){return t.states[e].state="open"})}},{key:"_setPanelHeight",value:function(){var t=this;this.panels.forEach(function(e){var n=e.querySelector(t.settings.panelInnerClass).offsetHeight;return e.style.maxHeight=n+"px"})}},{key:"_setupHeaders",value:function(){var t=this;this.headers.forEach(function(e,n){e.setAttribute("id","badger-accordion-header-"+t.ids[n].id),e.setAttribute("aria-controls","badger-accordion-panel-"+t.ids[n].id),e.setAttribute("aria-label",t.settings.headerOpenLabel)})}},{key:"_setupPanels",value:function(){var t=this;this.panels.forEach(function(e,n){e.setAttribute("id","badger-accordion-panel-"+t.ids[n].id),e.setAttribute("aria-labeledby","badger-accordion-header-"+t.ids[n].id)})}},{key:"_setupAttributes",value:function(){this._setupHeaders(),this._setupPanels(),this._insertDataAttrs()}}]),e}()}()}))(".js-badger-accordion");console.log(t.getState([0]))});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyIuLi8uLi9kaXN0L2FycmF5LWZyb20tcG9sbHlmaWxsLmpzIiwiYmVoYXZpb3VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFByb2R1Y3Rpb24gc3RlcHMgb2YgRUNNQS0yNjIsIEVkaXRpb24gNiwgMjIuMS4yLjFcbmlmICghQXJyYXkuZnJvbSkge1xuICBBcnJheS5mcm9tID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuICAgIHZhciBpc0NhbGxhYmxlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nIHx8IHRvU3RyLmNhbGwoZm4pID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuICAgIH07XG4gICAgdmFyIHRvSW50ZWdlciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFyIG51bWJlciA9IE51bWJlcih2YWx1ZSk7XG4gICAgICBpZiAoaXNOYU4obnVtYmVyKSkgeyByZXR1cm4gMDsgfVxuICAgICAgaWYgKG51bWJlciA9PT0gMCB8fCAhaXNGaW5pdGUobnVtYmVyKSkgeyByZXR1cm4gbnVtYmVyOyB9XG4gICAgICByZXR1cm4gKG51bWJlciA+IDAgPyAxIDogLTEpICogTWF0aC5mbG9vcihNYXRoLmFicyhudW1iZXIpKTtcbiAgICB9O1xuICAgIHZhciBtYXhTYWZlSW50ZWdlciA9IE1hdGgucG93KDIsIDUzKSAtIDE7XG4gICAgdmFyIHRvTGVuZ3RoID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YXIgbGVuID0gdG9JbnRlZ2VyKHZhbHVlKTtcbiAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChsZW4sIDApLCBtYXhTYWZlSW50ZWdlcik7XG4gICAgfTtcblxuICAgIC8vIFRoZSBsZW5ndGggcHJvcGVydHkgb2YgdGhlIGZyb20gbWV0aG9kIGlzIDEuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlLyosIG1hcEZuLCB0aGlzQXJnICovKSB7XG4gICAgICAvLyAxLiBMZXQgQyBiZSB0aGUgdGhpcyB2YWx1ZS5cbiAgICAgIHZhciBDID0gdGhpcztcblxuICAgICAgLy8gMi4gTGV0IGl0ZW1zIGJlIFRvT2JqZWN0KGFycmF5TGlrZSkuXG4gICAgICB2YXIgaXRlbXMgPSBPYmplY3QoYXJyYXlMaWtlKTtcblxuICAgICAgLy8gMy4gUmV0dXJuSWZBYnJ1cHQoaXRlbXMpLlxuICAgICAgaWYgKGFycmF5TGlrZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5LmZyb20gcmVxdWlyZXMgYW4gYXJyYXktbGlrZSBvYmplY3QgLSBub3QgbnVsbCBvciB1bmRlZmluZWQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gNC4gSWYgbWFwZm4gaXMgdW5kZWZpbmVkLCB0aGVuIGxldCBtYXBwaW5nIGJlIGZhbHNlLlxuICAgICAgdmFyIG1hcEZuID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB2b2lkIHVuZGVmaW5lZDtcbiAgICAgIHZhciBUO1xuICAgICAgaWYgKHR5cGVvZiBtYXBGbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gNS4gZWxzZVxuICAgICAgICAvLyA1LiBhIElmIElzQ2FsbGFibGUobWFwZm4pIGlzIGZhbHNlLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG4gICAgICAgIGlmICghaXNDYWxsYWJsZShtYXBGbikpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheS5mcm9tOiB3aGVuIHByb3ZpZGVkLCB0aGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNS4gYi4gSWYgdGhpc0FyZyB3YXMgc3VwcGxpZWQsIGxldCBUIGJlIHRoaXNBcmc7IGVsc2UgbGV0IFQgYmUgdW5kZWZpbmVkLlxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICBUID0gYXJndW1lbnRzWzJdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIDEwLiBMZXQgbGVuVmFsdWUgYmUgR2V0KGl0ZW1zLCBcImxlbmd0aFwiKS5cbiAgICAgIC8vIDExLiBMZXQgbGVuIGJlIFRvTGVuZ3RoKGxlblZhbHVlKS5cbiAgICAgIHZhciBsZW4gPSB0b0xlbmd0aChpdGVtcy5sZW5ndGgpO1xuXG4gICAgICAvLyAxMy4gSWYgSXNDb25zdHJ1Y3RvcihDKSBpcyB0cnVlLCB0aGVuXG4gICAgICAvLyAxMy4gYS4gTGV0IEEgYmUgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBbW0NvbnN0cnVjdF1dIGludGVybmFsIG1ldGhvZFxuICAgICAgLy8gb2YgQyB3aXRoIGFuIGFyZ3VtZW50IGxpc3QgY29udGFpbmluZyB0aGUgc2luZ2xlIGl0ZW0gbGVuLlxuICAgICAgLy8gMTQuIGEuIEVsc2UsIExldCBBIGJlIEFycmF5Q3JlYXRlKGxlbikuXG4gICAgICB2YXIgQSA9IGlzQ2FsbGFibGUoQykgPyBPYmplY3QobmV3IEMobGVuKSkgOiBuZXcgQXJyYXkobGVuKTtcblxuICAgICAgLy8gMTYuIExldCBrIGJlIDAuXG4gICAgICB2YXIgayA9IDA7XG4gICAgICAvLyAxNy4gUmVwZWF0LCB3aGlsZSBrIDwgbGVu4oCmIChhbHNvIHN0ZXBzIGEgLSBoKVxuICAgICAgdmFyIGtWYWx1ZTtcbiAgICAgIHdoaWxlIChrIDwgbGVuKSB7XG4gICAgICAgIGtWYWx1ZSA9IGl0ZW1zW2tdO1xuICAgICAgICBpZiAobWFwRm4pIHtcbiAgICAgICAgICBBW2tdID0gdHlwZW9mIFQgPT09ICd1bmRlZmluZWQnID8gbWFwRm4oa1ZhbHVlLCBrKSA6IG1hcEZuLmNhbGwoVCwga1ZhbHVlLCBrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBBW2tdID0ga1ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGsgKz0gMTtcbiAgICAgIH1cbiAgICAgIC8vIDE4LiBMZXQgcHV0U3RhdHVzIGJlIFB1dChBLCBcImxlbmd0aFwiLCBsZW4sIHRydWUpLlxuICAgICAgQS5sZW5ndGggPSBsZW47XG4gICAgICAvLyAyMC4gUmV0dXJuIEEuXG4gICAgICByZXR1cm4gQTtcbiAgICB9O1xuICB9KCkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtb2R1bGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIEltcG9ydGluZyBhY2NvcmRpb25cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgcG9sbHlmaWxsIGZyb20gJ2Rpc3QvYXJyYXktZnJvbS1wb2xseWZpbGwnO1xuaW1wb3J0IEJhZGdlckFjY29yZGlvbiBmcm9tICdkaXN0L2JhZGdlci1hY2NvcmRpb24nO1xuXG4vLyBDcmVhdGluZyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgYWNjb3JkaW9uXG5jb25zdCBhY2NvcmRpb24gPSBuZXcgQmFkZ2VyQWNjb3JkaW9uKCcuanMtYmFkZ2VyLWFjY29yZGlvbicpO1xuXG4vLyBBUEkgRXhhbXBsZXNcbi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmNvbnNvbGUubG9nKGFjY29yZGlvbi5nZXRTdGF0ZSggWzBdICkpO1xuLy8gYWNjb3JkaW9uLm9wZW4oIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJhZGdlci1hY2NvcmRpb24taGVhZGVyLWlkPVwiMVwiXScpICk7XG4vLyBhY2NvcmRpb24uY2xvc2UoIDAgKTtcbiJdLCJuYW1lcyI6WyJBcnJheSIsImZyb20iLCJ0b1N0ciIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiaXNDYWxsYWJsZSIsImZuIiwiY2FsbCIsIm1heFNhZmVJbnRlZ2VyIiwiTWF0aCIsInBvdyIsInRvTGVuZ3RoIiwidmFsdWUiLCJsZW4iLCJudW1iZXIiLCJOdW1iZXIiLCJpc05hTiIsImlzRmluaXRlIiwiZmxvb3IiLCJhYnMiLCJ0b0ludGVnZXIiLCJtaW4iLCJtYXgiLCJhcnJheUxpa2UiLCJpdGVtcyIsIlR5cGVFcnJvciIsIlQiLCJtYXBGbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImtWYWx1ZSIsIkEiLCJ0aGlzIiwiayIsImFjY29yZGlvbiIsImNvbnNvbGUiLCJsb2ciLCJnZXRTdGF0ZSJdLCJtYXBwaW5ncyI6InVKQUNLQSxNQUFNQyxhQUNIQSxLQUFRLGVBQ1JDLEVBQVFDLE9BQU9DLFVBQVVDLFNBQ3pCQyxFQUFhLFNBQVVDLFNBQ0osbUJBQVBBLEdBQXdDLHNCQUFuQkwsRUFBTU0sS0FBS0QsSUFRNUNFLEVBQWlCQyxLQUFLQyxJQUFJLEVBQUcsSUFBTSxFQUNuQ0MsRUFBVyxTQUFVQyxPQUNuQkMsRUFSVSxTQUFVRCxPQUNwQkUsRUFBU0MsT0FBT0gsVUFDaEJJLE1BQU1GLEdBQWtCLEVBQ2IsSUFBWEEsR0FBaUJHLFNBQVNILElBQ3RCQSxFQUFTLEVBQUksR0FBSyxHQUFLTCxLQUFLUyxNQUFNVCxLQUFLVSxJQUFJTCxJQURIQSxFQUt0Q00sQ0FBVVIsVUFDYkgsS0FBS1ksSUFBSVosS0FBS2EsSUFBSVQsRUFBSyxHQUFJTCxXQUk3QixTQUFjZSxPQUtmQyxFQUFRdEIsT0FBT3FCLE1BR0YsTUFBYkEsUUFDSSxJQUFJRSxVQUFVLHdFQUtsQkMsRUFEQUMsRUFBUUMsVUFBVUMsT0FBUyxFQUFJRCxVQUFVLFFBQUssVUFFN0IsSUFBVkQsRUFBdUIsS0FHM0J0QixFQUFXc0IsU0FDUixJQUFJRixVQUFVLHFFQUlsQkcsVUFBVUMsT0FBUyxNQUNqQkQsVUFBVSxZQWlCZEUsRUFYQWpCLEVBQU1GLEVBQVNhLEVBQU1LLFFBTXJCRSxFQUFJMUIsRUFsQ0EyQixNQWtDZ0I5QixPQUFPLElBbEN2QjhCLEtBa0M2Qm5CLElBQVEsSUFBSWQsTUFBTWMsR0FHbkRvQixFQUFJLEVBR0RBLEVBQUlwQixLQUNBVyxFQUFNUyxLQUVYQSxHQURBTixPQUNrQixJQUFORCxFQUFvQkMsRUFBTUcsRUFBUUcsR0FBS04sRUFBTXBCLEtBQUttQixFQUFHSSxFQUFRRyxHQUVwRUgsS0FFSixXQUdMRCxPQUFTaEIsRUFFSmtCLEdBeEVHLDJHQ01WRyxFQUFZLHdnTUFBQSxDQUFvQix3QkFJdENDLFFBQVFDLElBQUlGLEVBQVVHLFVBQVcifQ==
